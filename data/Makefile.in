# Makefile for pekwm
# Copyright (C) 2002 Claes Nästen <pekdon@gmx.net>

prefix = @prefix@
DATADIR = @datadir@/@PACKAGE@
DATA_MODE = 644
INSTALL = @INSTALL@

all: config theme

config:
	sed 's:<PREFIX>:$(DATADIR):' config.in > config

theme:
	${MAKE} -C themes

install: all
	mkdir -p $(DESTDIR)$(DATADIR)
	$(INSTALL) -m $(DATA_MODE) config $(DESTDIR)$(DATADIR)
	$(INSTALL) -m $(DATA_MODE) menu $(DESTDIR)$(DATADIR)
	$(INSTALL) -m $(DATA_MODE) keys $(DESTDIR)$(DATADIR)
	$(INSTALL) -m $(DATA_MODE) mouse $(DESTDIR)$(DATADIR)
	$(INSTALL) -m $(DATA_MODE) autoprops $(DESTDIR)$(DATADIR)
	$(INSTALL) -m $(DATA_MODE) start $(DESTDIR)$(DATADIR)
	${MAKE} -C themes install

clean:
	rm -f config
	${MAKE} -C themes clean
